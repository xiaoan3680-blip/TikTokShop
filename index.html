<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TikTokShop</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- üîπ N√∫t trang ch·ªß c·ªë ƒë·ªãnh (ch·ªâ hi·ªán ch·ªØ TikTokShop) -->
    <a href="https://tiktokshop88.net" target="_blank" style="position:fixed; top:20px; right:20px;
     background:linear-gradient(90deg,#ff0050,#25f4ee);
     color:white; padding:10px 18px; border-radius:8px;
     text-decoration:none; font-weight:600; font-size:16px;
     box-shadow:0 0 12px #25f4ee; z-index:999;">
        TikTokShop
    </a>

    <div class="container">
        <h1 class="gradient-text text-center" style="margin-top:80px;">
            Ch√†o m·ª´ng ƒë·∫øn TikTokShop üéâ
        </h1>
        <p class="text-center" style="color:#aaa;">
            Mua s·∫Øm xu h∆∞·ªõng TikTok v·ªõi gi√° si√™u h·∫•p d·∫´n!
        </p>

        <!-- üí¨ Form li√™n h·ªá -->
        <div class="card">
            <h2 class="text-tiktok-cyan">üíå G·ª≠i tin nh·∫Øn cho TikTokShop</h2>
            <form id="contactForm">
                <input class="neon-input" type="text" id="name" placeholder="H·ªç v√† t√™n" required>
                <input class="neon-input" type="email" id="email" placeholder="Email" required>
                <textarea class="neon-input" id="message" placeholder="N·ªôi dung li√™n h·ªá..." rows="4"
                    required></textarea>
                <button type="submit" class="btn-primary">G·ª≠i ngay</button>
            </form>
            <p id="formStatus" style="margin-top:10px; color:#25f4ee;"></p>
        </div>

        <!-- üßæ QR Code hi·ªÉn th·ªã -->
        <div class="card">
            <h2 class="text-tiktok-pink">üì± K·∫øt n·ªëi v·ªõi TikTokShop</h2>
            <div id="qrcodes"></div>
            <p style="margin-top:15px; font-size:1.1rem;">
                üìû K·∫øt b·∫°n Zalo: <span id="zalo-phone" class="text-tiktok-cyan">ƒêang t·∫£i...</span>
            </p>
        </div>
    </div>

    <footer style="text-align:center; color:#666; margin-top:50px;">
        ¬© 2025 TikTokShop - All rights reserved.
    </footer>

    <!-- üß† Script g·ª≠i form -->
    <script>
        // G·ª≠i form li√™n h·ªá
        document.getElementById("contactForm").addEventListener("submit", async (e) => {
            e.preventDefault();
            const res = await fetch("/api/contact-form", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    name: name.value,
                    email: email.value,
                    message: message.value
                }),
            });
            const data = await res.json();
            document.getElementById("formStatus").textContent = data.success
                ? "‚úÖ Tin nh·∫Øn ƒë√£ ƒë∆∞·ª£c g·ª≠i th√†nh c√¥ng!"
                : "‚ùå L·ªói khi g·ª≠i tin nh·∫Øn, vui l√≤ng th·ª≠ l·∫°i!";
            e.target.reset();
        });

        // L·∫•y d·ªØ li·ªáu QR + s·ªë Zalo
        async function loadData() {
            const res = await fetch("/api/data");
            const data = await res.json();

            // QR
            const qrContainer = document.getElementById("qrcodes");
            qrContainer.innerHTML = "";
            if (data.qrcodes && data.qrcodes.length > 0) {
                data.qrcodes.forEach(qr => {
                    const div = document.createElement("div");
                    div.style.marginBottom = "15px";
                    div.innerHTML = `
            <p><b>${qr.label}</b></p>
            ${qr.image ? `<img src="${qr.image}" alt="${qr.label}" width="150" />` : "<p>Ch∆∞a c√≥ m√£ QR</p>"}
          `;
                    qrContainer.appendChild(div);
                });
            } else {
                qrContainer.innerHTML = "<p>Ch∆∞a c√≥ m√£ QR n√†o.</p>";
            }

            // S·ªë Zalo
            document.getElementById("zalo-phone").textContent = data.zalo_phone || "Ch∆∞a c·∫≠p nh·∫≠t";
        }

        loadData();
    </script>

    <!-- ü§ñ Chat t·ª± ƒë·ªông -->
    <script src="https://tudongchat.com/js/chatbox.js"></script>
    <script>
        const tudong_chatbox = new TuDongChat('Nd9q0WIwRYzFIB9Dx'); // M√£ chat c·ªßa b·∫°n
        tudong_chatbox.initial({
            position: 'right',
            welcomeText: 'Xin ch√†o üëã! M√¨nh c√≥ th·ªÉ gi√∫p g√¨ cho b·∫°n h√¥m nay?',
            themeColor: '#ff0050'
        });
    </script>

</body>

</html>